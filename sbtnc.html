<html>
<meta charset="utf-8">
<head>
</head>
<body>
<script>
    window.onload = function dat() {
        document.getElementById("date").value = new Date().toJSON().slice(0, 10);
    };
    function bb(x) {
        var b = "";
        for (var i = 13 - x.replace(/[^\x00-\xff]/g, "**").length; i > 0; i--) {
            b += " "
        }
        return b
    }
    function sub() {
        var txt = "",
                tx2 = "",
                a1 = document.getElementById("l3").value.split(' ').shuffle(),
                a2 = document.getElementById("l4").value.split(' ').shuffle();
        if (a1.length == a2.length) {
            txt = "比赛： " + document.getElementById("l1").value + "     VS     " + document.getElementById("l2").value + "\n"
                    + "时间： " + document.getElementById("date").value + "\n"
                    + "规则： " + document.getElementById("la").value + "\n"
                    + "地点：" + document.getElementById("lb").value + "\n" + "------------第一轮------------" + "\n";
            for (var i = a1.length-1; i >= 0; i--) {
                tx2 += a1[i] + bb(a1[i]) + "0:0" + bb(a2[i]) + a2[i] + "\n"
            }
            ;
            document.getElementById("message").value = txt + tx2 + "------------第二轮------------";
        } else {
            alert("2队人数不同！")
        }
        ;
    }
    if (!Array.prototype.shuffle) {
        Array.prototype.shuffle = function () {
            for (var j, x, i = this.length; i; j = parseInt(Math.random() * i), x = this[--i], this[i] = this[j], this[j] = x);
            return this;
        };
    }

</script>
<form>
    <div>友谊赛用排表器</div>
    比赛队伍：<input id="l1" type="text"/> VS
    <input id="l2" type="text"/>

    <p/>
    输入日期：<input id="date" type="date" name="time" value="">

    <p/>
    比赛规则：<input id="la" type="text" size="20" value="2/3【KOF】"/>

    <p/>
    比赛地点：<input id="lb" type="text" size="20"/>

    <p/>
    一队成员：<input id="l3" type="text" size="50" placeholder="成员请用空白符分隔开"/>

    <p/>
    二队成员：<input id="l4" type="text" size="50" placeholder="成员请用空白符分隔开"/><p>
    <button type="button" id="but" onclick="sub()">排表</button><p>
    <textarea id="message" cols="50" rows="20" name="txt" placeholder="内容:" /></textarea><p/>

</form>
</body>
</html>
